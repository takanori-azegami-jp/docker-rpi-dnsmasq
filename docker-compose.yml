version: '3.8'
services:
  dnsmasq:
    restart: always
    build:
      context: .
      dockerfile: dockerfile_dnsmasq
    container_name: dnsmasq
    environment:
      TZ: "Asia/Tokyo"
    ports:
      - "53:53/udp"
    cap_add:
      - NET_ADMIN
    volumes:
      # configファイル
      - ./conf/dnsmasq.conf:/etc/dnsmasq.conf
      - /etc/hosts:/etc/hosts  
      - /etc/resolv.conf:/etc/resolv.conf  
      # logファイル
      - dnsmasq:/var/log/dnsmasq
volumes:
  dnsmasq:
    driver: local
